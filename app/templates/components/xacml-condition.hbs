{{yield}}

{{#if condition}}
    {{#if condition.isFuncOr }}
        <div class="panel panel-default">
            <div class="panel-heading">Conditions</div>
            <div class="panel-body">
                <div class="col-md-12 tree-group">
                    <span>OR</span>
                    <button class="btn btn-default btn-xs glyphicon glyphicon-plus" {{action "addOrCondition" condition}}></button>
                    <ul class="list-tree">
                        {{#each condition.conditions as |childCondition|}}
                            <li>
                                {{xacml-condition condition=childCondition parentCondition=condition}}
                            </li>
                        {{/each}}
                    </ul>
                </div>
            </div>
        </div>
    {{else if condition.isFuncAnd }}
        <div class="row">
            <div class="col-md-12">
                <span>AND</span>
                <button class="button btn btn-default btn-xs glyphicon glyphicon-plus" {{action "addAndCondition" condition}}></button>
                <button class="button btn btn-default btn-xs glyphicon glyphicon-minus" {{action "removeCondition" parentCondition condition}}></button>
                <ul class="list-tree">
                    {{#each condition.conditions as |childCondition|}}
                        <li>
                            {{xacml-condition condition=childCondition parentCondition=condition}}
                        </li>
                    {{/each}}
                </ul>
            </div>
        </div>
    {{else }}
        <div class="row">
            <div class="col-md-12 form-inline">
                {{#if condition.firstCondition.attributeId}}
                    {{xacml-attributes value=condition.firstCondition.attributeId}}
                {{/if}}
                &nbsp;
                {{input value=condition.functionId class="form-control"}}
                &nbsp;
                {{#if condition.lastCondition.attributeId}}
                    {{xacml-attributes value=condition.lastCondition.attributeId}}
                {{else if condition.lastCondition.value}}
                    {{input value=condition.lastCondition.value class="form-control"}}
                {{/if}}
                <button class="button btn btn-default btn-xs glyphicon glyphicon-minus" {{action "removeCondition" parentCondition condition}}></button>
            </div>
        </div>
    {{/if}}
{{/if}}